(self.webpackChunkapp=self.webpackChunkapp||[]).push([[202],{7202:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ProfileModule:()=>A});var s=i(1116),r=i(4587),n=i(529),a=i(8619),o=i(8335),c=i(4345),l=i(6710),h=i(992);const u=function(){return["edit"]},d=function(){return["/certificate"]},p=function(){return["/bookmarks"]},g=function(){return["/history"]};let _=(()=>{class e{constructor(e,t,i){this.jwtService=e,this.userService=t,this.spinner=i,this.userData={}}ngOnInit(){this.userData=this.jwtService.getUserData(),this.userData.profile_pic=this.userData.profile_pic?n.N.api_url+"/profile/"+this.userData.profile_pic:"assets/images/profile_pic.png",this.getPoints()}getPoints(){this.userService.getUserPoints().subscribe(e=>{200===e.statusCode?(this.spinner.hide(),this.userData.points=e.data[0].total):this.spinner.hide()},e=>{this.spinner.hide()})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.T),a.Y36(c.K),a.Y36(l.t2))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-profile"]],decls:47,vars:16,consts:[[3,"showMenu","backUrl","showSearch"],[1,"page_mid_area"],[1,"profile_wrp"],[1,"profile_tp_w"],["href","javascript:void(0)",1,"edit_icon_p",3,"routerLink"],["src","assets/images/edit_icon.png"],[1,"profile_pic",3,"src"],[1,"profile_mid_w"],[1,"score_p"],[1,"score_p_left"],[1,"score_p_right"],[1,"scr_vw"],[1,"info_user_p"],[1,"info_user_p_left"],[1,"info_user_p_right"],[1,"awd_cert_btn_r"],["href","javascript:void(0)",1,"awd_cert_btn",3,"routerLink"],[1,"awd_cert_btn",3,"routerLink"],[1,"profile_awd"],["href","javascript:void(0)"],["src","assets/images/star_icon_y.png"],["src","assets/images/star_icon_g.png"]],template:function(e,t){1&e&&(a._UZ(0,"app-header",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"a",4),a._UZ(5,"img",5),a.qZA(),a.TgZ(6,"p"),a._UZ(7,"img",6),a.qZA(),a.TgZ(8,"p"),a._uU(9),a.qZA(),a.qZA(),a.TgZ(10,"div",7),a.TgZ(11,"div",8),a.TgZ(12,"div",9),a._uU(13,"Score"),a.qZA(),a.TgZ(14,"div",10),a.TgZ(15,"span",11),a._uU(16),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",12),a.TgZ(18,"div",13),a._uU(19,"Email"),a.qZA(),a.TgZ(20,"div",14),a._uU(21),a.qZA(),a.qZA(),a.TgZ(22,"div",12),a.TgZ(23,"div",13),a._uU(24,"Mobile"),a.qZA(),a.TgZ(25,"div",14),a._uU(26),a.qZA(),a.qZA(),a.TgZ(27,"div",15),a.TgZ(28,"a",16),a._uU(29,"Awarded Certificate"),a.qZA(),a.qZA(),a.TgZ(30,"div",15),a.TgZ(31,"a",17),a._uU(32,"Bookmark Content"),a.qZA(),a.qZA(),a.TgZ(33,"div",15),a.TgZ(34,"a",17),a._uU(35,"History"),a.qZA(),a.qZA(),a.TgZ(36,"div",18),a.TgZ(37,"a",19),a._UZ(38,"img",20),a.qZA(),a.TgZ(39,"a",19),a._UZ(40,"img",20),a.qZA(),a.TgZ(41,"a",19),a._UZ(42,"img",20),a.qZA(),a.TgZ(43,"a",19),a._UZ(44,"img",21),a.qZA(),a.TgZ(45,"a",19),a._UZ(46,"img",21),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("showMenu",!0)("backUrl","")("showSearch",!1),a.xp6(4),a.Q6J("routerLink",a.DdM(12,u)),a.xp6(3),a.Q6J("src",t.userData.profile_pic,a.LSH),a.xp6(2),a.Oqu(t.userData.name),a.xp6(7),a.Oqu(t.userData.points),a.xp6(5),a.Oqu(t.userData.email),a.xp6(5),a.hij("+91 ",t.userData.phone_number,""),a.xp6(2),a.Q6J("routerLink",a.DdM(13,d)),a.xp6(3),a.Q6J("routerLink",a.DdM(14,p)),a.xp6(3),a.Q6J("routerLink",a.DdM(15,g)))},directives:[h.G,r.yS],styles:[""]}),e})();var f=i(1462),Z=i(3492);const m=[{path:"",component:_},{path:"edit",component:(()=>{class e{constructor(e,t,i,s,r){this.jwtService=e,this.fb=t,this.userService=i,this.toastr=s,this.spinner=r,this.userData={},this.submitted=!1}ngOnInit(){this.profileForm=this.fb.group({name:["",[f.kI.required]],email:["",[f.kI.required]]}),this.userData=this.jwtService.getUserData(),this.userData.profile_pic=this.userData.profile_pic?n.N.api_url+"/profile/"+this.userData.profile_pic:"assets/images/profile_pic.png",this.profileForm.patchValue(this.userData)}onProfilePicChange(e){const t=e.target.files[0];if("image"==t.type.split("/")[0]){this.selectedFile=t;var i=new FileReader;i.onload=e=>{this.userData.profile_pic=e.target.result},i.readAsDataURL(this.selectedFile)}else this.selectedFile=null,this.toastr.error("Invalid File Format","Error")}updateProfile(){var e=new FormData;this.selectedFile&&e.append("profile_pic",this.selectedFile?this.selectedFile:null,this.selectedFile?this.selectedFile.name:null),e.append("email",this.profileForm.value.email),e.append("name",this.profileForm.value.name),this.spinner.show(),this.userService.updateProfile(e).subscribe(e=>{200===e.statusCode?(this.spinner.hide(),this.toastr.success(e.message),e.data.profile_pic=e.data.profile_pic?e.data.profile_pic:"assets/images/profile_pic.png",this.userData=this.jwtService.getUserData(),this.userData.profile_pic=this.userData.profile_pic?n.N.api_url+"/profile/"+this.userData.profile_pic:"assets/images/profile_pic.png"):(this.spinner.hide(),this.toastr.error(e.message))},e=>{this.spinner.hide(),this.toastr.error("error")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.T),a.Y36(f.qu),a.Y36(c.K),a.Y36(Z._W),a.Y36(l.t2))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-edit"]],decls:24,vars:7,consts:[[3,"showMenu","backUrl","showSearch"],[1,"page_mid_area"],[1,"other_dig_ele_wrp"],[1,"other_dig_ele_con_w_in","setting_in_wrp"],[1,"profile_pic_upld_tp"],[1,"profile_tp_w"],[1,"edit_icon_p"],["src","assets/images/upload_icon.png"],["type","file","accept","image/*",1,"upload_file_fild",3,"change"],[1,"profile_pic",3,"src"],[1,"uploadavtar"],[1,"awd_cert_btn_r","home_btn_m"],["href","#",1,"awd_cert_btn"],["src","assets/images/profile_pic.png",1,"profile_pic",2,"width","30px","border-radius","50%"],[1,"login_frm_main_w","login_user","edit_profile_wrp"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name",1,"inpt_fild_w",3,"placeholder"],["type","email","formControlName","email",1,"inpt_fild_w",3,"placeholder"],["type","submit","value","Update Profile",1,"btn_log",3,"click"]],template:function(e,t){1&e&&(a._UZ(0,"app-header",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a.TgZ(5,"div",5),a.TgZ(6,"span",6),a._UZ(7,"img",7),a.qZA(),a.TgZ(8,"p"),a.TgZ(9,"input",8),a.NdJ("change",function(e){return t.onProfilePicChange(e)}),a.qZA(),a._UZ(10,"img",9),a.qZA(),a.TgZ(11,"div",10),a.TgZ(12,"div",11),a.TgZ(13,"a",12),a._UZ(14,"img",13),a._uU(15," Upload Avatar"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"div",14),a.TgZ(17,"form",15),a.NdJ("ngSubmit",function(){return t.profileForm.valid&&t.updateProfile()}),a.TgZ(18,"p"),a._UZ(19,"input",16),a.qZA(),a.TgZ(20,"p"),a._UZ(21,"input",17),a.qZA(),a.TgZ(22,"p"),a.TgZ(23,"input",18),a.NdJ("click",function(){return t.submitted=!0}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("showMenu",!1)("backUrl","/profile")("showSearch",!1),a.xp6(10),a.Q6J("src",t.userData.profile_pic,a.LSH),a.xp6(7),a.Q6J("formGroup",t.profileForm),a.xp6(2),a.s9C("placeholder",t.userData.name),a.xp6(2),a.s9C("placeholder",t.userData.email))},directives:[h.G,f._Y,f.JL,f.sg,f.Fj,f.JJ,f.u],styles:[".other_dig_ele_con_w_in.setting_in_wrp[_ngcontent-%COMP%]{height:calc(100vh - 130px)}span.edit_icon_p[_ngcontent-%COMP%]{position:absolute;right:0;width:100%;text-align:center;top:50%}span.edit_icon_p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:#063579;border-radius:5px;padding:4px;width:36px}.upload_file_fild[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;left:0;right:0;margin:auto;bottom:75px;opacity:0}"]}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),e})();var v=i(5425);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,w,f.u5,f.UX,v.m]]}),e})()},992:(e,t,i)=>{"use strict";i.d(t,{G:()=>D});var s=i(3559),r=i(6673),n=i(7570);class a extends n.w{constructor(e,t){super()}schedule(e,t=0){return this}}class o extends a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,s=!1;try{this.work(e)}catch(r){s=!0,i=!!r&&r||new Error(r)}if(s)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let c=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class l extends c{constructor(e,t=c.now){super(e,()=>l.delegate&&l.delegate!==this?l.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return l.delegate&&l.delegate!==this?l.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const h=new l(o);class u{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new d(e,this.dueTime,this.scheduler))}}class d extends r.L{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function p(e){e.debouncedNext()}class g{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new _(e,this.compare,this.keySelector))}}class _ extends r.L{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}var f=i(8619),Z=i(6710),m=i(4345),w=i(3492),v=i(4587),A=i(1116),b=i(1462);function q(e,t){1&e&&(f.TgZ(0,"a",7),f._UZ(1,"img",8),f.qZA())}const T=function(e){return[e]};function y(e,t){if(1&e&&(f.TgZ(0,"a",9),f._UZ(1,"img",10),f.qZA()),2&e){const e=f.oxw();f.Q6J("routerLink",f.VKq(1,T,e.backUrl))}}function x(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"li",19),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw(2).selectResult(t)}),f._uU(1),f.qZA()}if(2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.title," ")}}function k(e,t){if(1&e&&(f.TgZ(0,"li",9),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.Q6J("routerLink",f.VKq(2,T,e.url)),f.xp6(1),f.hij(" ",e.title," ")}}const U=function(){return{standalone:!0}};function S(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"div",11),f.TgZ(1,"ul",12),f.YNc(2,x,2,1,"li",13),f.YNc(3,k,2,4,"li",14),f.qZA(),f.TgZ(4,"div",15),f.TgZ(5,"form"),f.TgZ(6,"div",16),f.TgZ(7,"input",17),f.NdJ("ngModelChange",function(t){return f.CHM(e),f.oxw().changed(t)})("ngModelChange",function(t){return f.CHM(e),f.oxw().keyword=t}),f.qZA(),f._UZ(8,"input",18),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){const e=f.oxw();f.xp6(2),f.Q6J("ngForOf",e.searchResults),f.xp6(1),f.Q6J("ngForOf",e.lsearchResults),f.xp6(4),f.Q6J("ngModel",e.keyword)("ngModelOptions",f.DdM(4,U))}}let D=(()=>{class e{constructor(e,t,i,r){this.spinner=e,this.userService=t,this.toastr=i,this.router=r,this.backUrl="",this.showMenu=!1,this.showSearch=!0,this.searchResults=[],this.modelChanged=new s.xQ,this.keyword="",this.searchItems=[{title:"Timewall",url:"/timewall"},{title:"Videowall",url:"/videowall"},{title:"Holofan",url:"/holofan"},{title:"Rotoscope",url:"/rotoscope"},{title:"MR Zone",url:"/mrzone"},{title:"VR Zone",url:"/vrzone"}],this.lsearchResults=[],this.modelChanged.pipe(function(e,t=h){return i=>i.lift(new u(e,t))}(1e3),e=>e.lift(new g(void 0,void 0))).subscribe(e=>{this.search(e)})}ngOnInit(){this.showSearch?$("#main-body").removeClass("nosearch_div_head"):$("#main-body").addClass("nosearch_div_head")}search(e){e.length>2?(this.spinner.show(),this.userService.search({keyword:e}).subscribe(t=>{this.spinner.hide(),200===t.statusCode?(this.searchResults=t.data.results,this.lsearchResults=this.searchItems.filter(t=>t.title.toLowerCase().includes(e.toLowerCase()))):this.toastr.error(t.message,"Error")},e=>{this.spinner.hide(),this.toastr.error("Something went wrong","Error")})):(this.searchResults=[],this.lsearchResults=[])}selectResult(e){"TIMEWALL"===e.type?this.router.navigate(["/timewall/detail",e._id]):"ROTOSCOPE"===e.type?this.router.navigate(["/rotoscope/detail",e._id]):"VIDEOWALL"===e.type?this.router.navigate(["/videowall/detail",e._id]):"HOLOFAN"===e.type?this.router.navigate(["/holofan/detail",e._id]):"MRZONE"===e.type?this.router.navigate(["/mrzone/detail",e._id]):"VRZONE"===e.type&&this.router.navigate(["/vrzone/detail",e._id])}changed(e){this.modelChanged.next(e)}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(Z.t2),f.Y36(m.K),f.Y36(w._W),f.Y36(v.F0))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-header"]],inputs:{backUrl:"backUrl",showMenu:"showMenu",showSearch:"showSearch"},decls:8,vars:3,consts:[[1,"header_p"],[1,"left_icon_h"],["href","javascript:void(0)","data-toggle","modal","data-target","#myModal",4,"ngIf"],[3,"routerLink",4,"ngIf"],[1,"mid_con_h"],["src","assets/images/head_logo.png",1,"head_logo"],["class","srh_fild_h_w_nw",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#myModal"],["src","assets/images/menu_icon.png",1,"menu_icon"],[3,"routerLink"],["src","assets/images/backarrow_w.png",1,"menu_icon"],[1,"srh_fild_h_w_nw"],[1,"search_list_w"],[3,"click",4,"ngFor","ngForOf"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"search_top"],[1,"srh_fild_h_w"],["type","text","placeholder","Search",1,"srh_fild_h",3,"ngModel","ngModelOptions","ngModelChange"],["type","button",1,"srh_icon"],[3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.YNc(2,q,2,0,"a",2),f.YNc(3,y,2,3,"a",3),f.qZA(),f.TgZ(4,"div",4),f._uU(5,"IndianOil "),f._UZ(6,"img",5),f.qZA(),f.qZA(),f.YNc(7,S,9,5,"div",6)),2&e&&(f.xp6(2),f.Q6J("ngIf",t.showMenu),f.xp6(1),f.Q6J("ngIf",t.backUrl),f.xp6(4),f.Q6J("ngIf",t.showSearch))},directives:[A.O5,v.yS,A.sg,b._Y,b.JL,b.F,b.Fj,b.JJ,b.On,v.rH],styles:[""]}),e})()}}]);